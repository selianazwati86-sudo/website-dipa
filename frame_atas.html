<!DOCTYPE html>
<html>
<body style="margin:0; padding:0; background-color:#f684aa; font-size:20px; color:#ffffff;">

<div style="display:flex; align-items:center; justify-content:space-between; padding:10px;">
    <h2 style="margin:0;">HanLy Shoop</h2>

    <div style="display:flex; gap:20px; align-items:center;">
        <img src="C:\Users\divap\Downloads\account_box_24dp_FFFFFF_FILL0_wght400_GRAD0_opsz24.png" style="height:30px;">
        <div style="position:relative; cursor:pointer;" onclick="openCart()">
            <img src="C:\Users\divap\Downloads\shopping_cart_24dp_FFFFFF_FILL0_wght400_GRAD0_opsz24.png" style="height:30px;">
            <span id="cart-count"
                style="position:absolute; top:-8px; right:-12px; background:red; color:white;
                       font-size:12px; padding:2px 6px; border-radius:50%;">0</span>
        </div>
    </div>
</div>

<script>
let cartItems = [];

function updateCartIcon() {
    document.getElementById('cart-count').innerText = cartItems.length;
}

function openCart() {
    parent.frames['bawah_kanan'].location.href = "cart.html";
}

window.addEventListener('message', function(e){
    if(e.data.type === 'addToCart') {
        cartItems.push(e.data.product);
        updateCartIcon();
        parent.frames['bawah_kanan'].postMessage({type:'updateCart', cart:cartItems}, '*');
    }
    else if(e.data.type === 'requestCart') {
        parent.frames['bawah_kanan'].postMessage({type:'updateCart', cart:cartItems}, '*');
    }
});
</script>

</body>
</html>
